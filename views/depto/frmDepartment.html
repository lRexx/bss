<!-- USER REQUEST OTHER QUERIES  ruother=Register Request User Other Queries-->
<div ng-class="sessionidProfile==5 || (sessionidProfile==6 && sessionidTypeTenant==2)?'col-md-6 col-md-offset-3':'col-md-12'">
  <div class="panel panel-default padding-panel">
    <div class="panel-heading">
      <h3 class="panel-title">GESTION DE EDIFICIO  <span style="cursor: pointer;" data-toggle="tooltip" data-placement="right" title="Volver" ng-if="searchMyDeptos || newDeparment" ng-click="viewOwnerDeptos(false)" ><i class="glyphicon glyphicon-share-alt"></i></span></h3>
    </div>
    <div class="panel-body">
      <!-- USUARIOS PROPIETARIOS Y ADMINS -->
      <div ng-if="sessionidProfile!=5 || (sessionidProfile==6 && sessionidTypeTenant==1)">
        <div ng-if="sessionidProfile==3" class="container-fluid justify-content-md-center">
          <div ng-if="!searchMyDeptos && !newDeparment" ng-click="viewOwnerDeptos(true)" class="col-md-2 col-md-offset-3">  
            <div class="depto-widget well well-bg well-md">
              <div class="depto-icon">
                    <span  data-toggle="tooltip" ng-click="viewOwnerDeptos(true)" data-placement="bottom" title="Ver Departamentos asignados">
                      <i class="fas fa-search"></i>
                    </span>
              </div>
              <!-- IF THERE IS A DEPARTMENT ASSIGNED -->
              <div ng-if="ssssessionidAddress && ssssessionIdDeparmentKf">
                <div class="text">
                    <h4 class="text-muted">Consorcio: <span class="badge badge-light">{{sessionNameAdress}}</span></h4>
                </div>
                <div >
                  <h5 class="text-muted">Departamento: 
                    <span class="badge badge-light">{{deptoTenant}}</span>
                      <span ng-if="!sessionisDepartmentApproved || sessionisDepartmentApproved==0" class="badge badge-warning">
                        <i data-toggle="tooltip" data-placement="bottom" title="Pendiente autorizacion" class="fas fa-info-circle">
                        </i>
                      </span>
                      <span ng-if="sessionisDepartmentApproved" class="badge badge-success">
                        <i data-toggle="tooltip" data-placement="bottom" title="Departamento Aprobado" class="fas fa-check">
                        </i>
                      </span>
                      <button ng-if="sessionisDepartmentApproved" type="button" ng-click="modalConfirmation('removet', 0, sysLoggedUser)" class="pull-right btn btn-sm btn-danger">
                        <i data-toggle="tooltip" data-placement="bottom" title="Darme de baja" class="fas fa-trash-alt">
                        </i>
                      </button>
                      <button ng-if="!sessionisDepartmentApproved || sessionisDepartmentApproved==0" type="button" ng-click="refresSession(sessionMail)" class="pull-right btn btn-sm btn-primary">
                        <i data-toggle="tooltip" data-placement="bottom" title="Actualizar" class="fas fa-redo-alt">
                        </i>
                      </button>
                  </h5>
                </div>
              </div>
              <!-- THERE IS NOT A DEPARTMENT ASSIGNED -->
              <div>
                <div ng-if="ssssessionidAddress && sssessionIdDeparmentKf" class="text">
                    <button type="button" ng-click="viewOwnerDeptos(true)" class="btn btn-sm btn-primary">
                    <i data-toggle="tooltip" data-placement="bottom" title="ver mis departamentos" class="fas fa-search">
                    </i>  Ver
                    </button>
                </div>
              </div>
            </div>
          </div>
          <div ng-if="!searchMyDeptos && !newDeparment" ng-click="modalCodeConfirmation()" class="col-md-2 col-md-offset-1">
            <div class="depto-widget well well-bg well-md">
              <div class="depto-icon">
                    <span  data-toggle="tooltip" ng-click="modalCodeConfirmation()" data-placement="bottom" title="Alta nuevo departamento">
                      <i class="fas fa-plus"></i>
                    </span>
              </div>
              <!-- IF THERE IS A DEPARTMENT ASSIGNED -->
              <div ng-if="ssssessionidAddress && sssessionIdDeparmentKf">
                <div class="text">
                    <h4 class="text-muted">Consorcio: <span class="badge badge-light">{{sessionNameAdress}}</span></h4>
                </div>
                <div >
                  <h5 class="text-muted">Departamento: 
                    <span class="badge badge-light">{{deptoTenant}}</span>
                      <span ng-if="!sessionisDepartmentApproved || sessionisDepartmentApproved==0" class="badge badge-warning">
                        <i data-toggle="tooltip" data-placement="bottom" title="Pendiente autorizacion" class="fas fa-info-circle">
                        </i>
                      </span>
                      <span ng-if="sessionisDepartmentApproved" class="badge badge-success">
                        <i data-toggle="tooltip" data-placement="bottom" title="Departamento Aprobado" class="fas fa-check">
                        </i>
                      </span>
                      <button ng-if="sessionisDepartmentApproved" type="button" ng-click="modalConfirmation('removet', 0, sysLoggedUser)" class="pull-right btn btn-sm btn-danger">
                        <i data-toggle="tooltip" data-placement="bottom" title="Darme de baja" class="fas fa-trash-alt">
                        </i>
                      </button>
                      <button ng-if="!sessionisDepartmentApproved || sessionisDepartmentApproved==0" type="button" ng-click="refresSession(sessionMail)" class="pull-right btn btn-sm btn-primary">
                        <i data-toggle="tooltip" data-placement="bottom" title="Actualizar" class="fas fa-redo-alt">
                        </i>
                      </button>
                  </h5>
                </div>
              </div>
              <!-- THERE IS NOT A DEPARTMENT ASSIGNED -->
              <div>
                <div ng-if="ssssessionidAddress && sssessionIdDeparmentKf" class="text">
                    <button type="button" ng-click="modalCodeConfirmation()" class="btn btn-sm btn-primary">
                    <i data-toggle="tooltip" data-placement="bottom" title="Asociar un Nuevo departamento" class="fas fa-plus">
                    </i>  Nuevo
                    </button>
                </div>
              </div>
            </div>
          </div>            
        </div> 
        <form class="form-horizontal" name="frmDpto" ng-submit="fnAssignDepto(select.idDepartmentKf,0)">        
          <fieldset>
            <!-- Address for Owner-->      
            <div ng-show="searchMyDeptos && sessionidProfile==3 || sessionidProfile==5 || sessionidProfile==6" class="form-group col-md-12">
               <label style="padding-left: 15px;">Consorcio</label>
                  <div class="col-xs-12">
                    <div class="input-group">
                      <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
                      <ui-select name="idAddressAtt" ng-disabled="sessionidProfile==1 && selectIdCompanyKf.selected==''" ng-change="getDeparment(1,selectIdAddressKf.selected.idAdress); listUserDepto(1, selectIdAddressKf.selected.idAdress); collap=1; isCollapsed=false;" ng-required="sessionidProfile!=4" ng-model="selectIdAddressKf.selected" autofocus>
                        <ui-select-match allow-clear="true" placeholder="Seleccione una direccion">{{$select.selected.nameAdress}}</ui-select-match>
                          <ui-select-choices repeat="data in ListTenantAddress | filter: $select.search">
                            <div ng-bind-html="data.nameAdress | highlight: $select.search"></div>
                              <!--<small>Costo de Gestion: </small><small ng-bind-html="item.priceManagement | highlight: $select.search"></small>
                              <small>Costo de Envio: </small><small ng-bind-html="item.priceShipping | highlight: $select.search"></small>-->
                          </ui-select-choices>
                      </ui-select>
                      <span ng-show="selectIdAddressKf.selected!=undefined && (sessionidProfile==3 || (sessionidProfile==6 && sessionidTypeTenant==1))" style="cursor: pointer;" class="input-group-addon"><i ng-click="getDeparment(1,selectIdAddressKf.selected.idAdress); listUserDepto(1,selectIdAddressKf.selected.idAdress);" class="glyphicon glyphicon-refresh"></i></span>
                    </div>
                  </div>
            </div>
            <!-- Company Name-->    
            <div ng-show="sessionidProfile!=3 && sessionidProfile!=5 && sessionidProfile!=6" class="form-group col-md-6">
              <label style="padding-left: 15px;">Administracion</label>
                <div class="col-xs-12">
                  <div class="input-group">
                      <span class="input-group-addon"><i class="icon-suitcase"></i></span>
                    <input ng-show="sessionidProfile==4" name="companyN"  disabled class="form-control" ng-model="$parent.companyN" />

                      <ui-select ng-show="sessionidProfile==1" ng-model="selectIdCompanyKf.selected" on-select="onSelectCallback()" ng-change="officeListByCompnayID(selectIdCompanyKf.selected.idCompany); ">
                        <ui-select-match allow-clear="true" placeholder="Seleccione una administracion">{{$select.selected.nameCompany}}</ui-select-match>
                          <ui-select-choices repeat="data in listCompany | filter: $select.search">
                            <div ng-bind-html="data.nameCompany | highlight: $select.search"></div>
                              <small ng-bind-html="data.mail_admin | highlight: $select.search"></small>
                          </ui-select-choices>
                      </ui-select>
                  </div>
                </div>
            </div>
            <!-- Address for Admins-->      
            <div ng-show="sessionidProfile!=3 && sessionidProfile!=5 && sessionidProfile!=6" class="form-group col-md-6">
                <label style="padding-left: 15px;">Consorcio</label>
                  <div class="col-xs-12">
                    <div class="input-group">
                      <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
   
                      <ui-select name="idAddressAtt" ng-disabled="(!companyFound && sessionidProfile==1)" ng-change="getDeparment(1,selectIdAddressKf.selected.idAdress); listUserDepto(1,selectIdAddressKf.selected.idAdress); getAllAttendant(selectIdAddressKf.selected.idAdress); idDepartmentKf=''; getSecurityCodeFromAddress(selectIdAddressKf.selected)" ng-required="sessionidProfile!=3" ng-model="selectIdAddressKf.selected" autofocus>
                        <ui-select-match allow-clear="true" placeholder="Seleccione una direccion">{{$select.selected.nameAdress}}</ui-select-match>
                          <ui-select-choices repeat="data in listOffice | filter: $select.search">
                            <div ng-bind-html="data.nameAdress | highlight: $select.search"></div>
                              <!--<small ng-bind-html="item.nameCompany | highlight: $select.search"></small>-->
                          </ui-select-choices>
                      </ui-select>
                      <span ng-show="selectIdAddressKf.selected!=undefined && sessionidProfile==4" style="cursor: pointer;" class="input-group-addon"><i ng-click="listUserDepto(1,selectIdAddressKf.selected.idAdress); getAllAttendant(selectIdAddressKf.selected.idAdress);" class="glyphicon glyphicon-refresh"></i></span>
                    </div>
                  </div>
            </div>
            <!-- Select Department -->
            <div ng-show="noShow" class="form-group col-md-4">
              <label style="padding-left: 15px;">Departamento</label>
                <div class="col-xs-12 selectContainer">
                  <div class="input-group">
                      <span class="input-group-addon"><i class="glyphicon icon-building"></i></span>
                      <select ng-model="select.idDepartmentKf"  ng-disabled="dptoNotFound!=false" class="form-control" ng-options="x.idDepartment as x.departmentFloor for x in ListDpto " required autofocus >
                        <option value="">Seleccione</option>
                      </select>
                  </div>
              </div>
            </div>
            <!-- Actions Button -->
            <div ng-show="noShow" class="form-group col-md-2">
              <br>
              <div class="col-xs-12">
                <button type="submit" class="btn btn-primary" ng-disabled="dptoNotFound!=false" >Asociar</button>
              </div>
            </div>
          </fieldset>
        </form>
        <div ng-if="newDeparment && sysCheckResult" class="container-fluid justify-content-md-center col-md-12">
            <form class="form-horizontal" name="frmDpto" ng-submit="fnAssignDepto(select.idDepartmentKf,0)">
                  <fieldset>
                    <!-- Address for Owner-->      
                    <div ng-show="sessionidProfile==3 || sessionidProfile==5 || sessionidProfile==6" class="form-group col-md-6">
                       <label style="padding-left: 15px;">Consorcio</label>
                          <div class="col-xs-12">
                            <div class="input-group">
                              <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
                              <input name="idAddressAtt" readonly="true" class="form-control" ng-model="manage.idAddrName" type="text" required autofocus />
                            </div>
                          </div>
                    </div>
                    <!-- Select Department -->
                    <div ng-show="sessionidProfile==3 || sessionidProfile==5 || sessionidProfile==6" class="form-group col-md-4">
                      <label style="padding-left: 15px;">Departamento</label>
                        <div class="col-xs-12 selectContainer">
                          <div class="input-group">
                              <span class="input-group-addon"><i class="glyphicon icon-building"></i></span>
                              <select id="idDepartmentKf" ng-model="select.idDepartmentKf"  ng-disabled="dptoNotFound!=false" class="form-control" ng-options="x.idDepartment as x.departmentFloor for x in ListDpto " required autofocus >
                                <option value="">Seleccione</option>
                              </select>
                          </div>
                      </div>
                    </div>
                    <!-- Actions Button -->
                    <div ng-show="sessionidProfile==3 || sessionidProfile==5 || sessionidProfile==6" class="form-group col-md-2">
                      <br>
                      <div class="col-xs-12">
                        <button type="submit" class="btn btn-primary" ng-disabled="dptoNotFound!=false" >Asociar</button>
                      </div>
                    </div>
                  </fieldset>
            </form>
        </div>
        <div class="col-md-12 depto-m-d-b">
          <div ng-show="selectIdAddressKf.selected && (sessionidProfile==1 || sessionidProfile==4)" class="form-group pull-right col-md-12 col-sm-12 col-xs-12">
            <label style="padding-left: 15px;">Codigo de Seguridad</label>
              <div class="col-xs-12 selectContainer">
                <div class="input-group">
                    <span class="input-group-addon"><i class="glyphicon icon-key"></i></span>
                    <input type="text" data-toggle="tooltip" readonly="true" data-placement="bottom" title="Codigo de Seguridad" ng-model="addressCodeSecurity" class="form-control">
                </div>
            </div>
          </div>
          <button ng-show="selectIdAddressKf.selected && sessionidProfile!=3 && sessionidProfile!=5 && sessionidProfile!=6 && !noRecordsFound && !dptoNotFound" type="button" ng-model="collap1"  ng-class="!isCollapsed && collap==1 ? 'btn-success' : 'btn-primary'" class="col-md-4 col-md-offset-1 col-sm-6 col-xs-6 btn " ng-click="isCollapsed = !isCollapsed; switchTab(1); "><i class="fas fa-building"></i> DEPARTAMENTOS</button>
          <button ng-show="selectIdAddressKf.selected && sessionidProfile!=3 && sessionidProfile!=5 && sessionidProfile!=6 && !noRecordsFound && !dptoNotFound" type="button" ng-model="collap2" ng-class="!isCollapsed && collap==2 ? 'btn-success' : 'btn-primary'" class="col-md-4 col-md-offset-2 col-sm-6 col-xs-6 btn " ng-click="isCollapsed = !isCollapsed; switchTab(2); getAllAttendant(selectIdAddressKf.selected.idAdress);"><i class="fas fa-users"></i> ENCARGADOS</button>
        </div>
        <div class="clearfix"></div> 
        <div class="col-lg-12">
          <div ng-show="noRecordsFound && selectIdAddressKf.selected!=undefined && (sessionidProfile==3 || sessionidProfile==5 || sessionidProfile==6)" class="alert alert-info" role="alert">
              <strong>INFO: </strong>Estimado/a, <strong>{{sessionNames}}</strong> No existen departamentos asociados a la direccion seleccionada.
          </div>
          <div ng-show="noRecordsFound && selectIdAddressKf.selected!=undefined && sessionidProfile!=3 && sessionidProfile==6" class="alert alert-info" role="alert">
            <strong>INFO: </strong>No hay departamentos registrados en la direccion seleccionada.
          </div>
            <div uib-collapse="isCollapsed">
              <!--*********************DEPARTAMENTOS *******************************--> 
              <div ng-if="!isCollapsed && collap==1 && sessionidProfile>0 && recordsFound && !noRecordsFound && !dptoNotFound && selectIdAddressKf.selected!=undefined" class="panel panel-default">             
                <div class="panel-body">
                  <div class="row">
                     <!-- Filter Department For Admins -->
                    <div ng-show="sessionidProfile==1 || sessionidProfile==4" class="form-group col-md-4">
                      <label style="padding-left: 15px;">Departamentos</label>
                        <div class="col-xs-12 selectContainer">
                          <div class="input-group">
                              <span class="input-group-addon"><i class="glyphicon icon-building"></i></span>
                              <select ng-model="idDepartmentKf" ng-disabled="selectIdAddressKf.selected==''" ng-change="dayDataCollapseFn();" class="form-control" ng-options=" x.departmentFloor as x.departmentFloor for x in ListDpto " autofocus >
                                <option value="">Todos</option>
                              </select>
                              <span ng-click="listUserDepto(1, selectIdAddressKf.selected.idAdress);" class=" input-group-addon" data-toggle="tooltip" data-placement="right" title="Actualizar"><i class="glyphicon glyphicon-refresh"></i></span>
                          </div>
                      </div>
                    </div>
                    <div ng-show="sessionidProfile==1 || sessionidProfile==4" class="form-group pull-right col-md-4 col-sm-12 col-xs-12">
                      <label style="padding-left: 15px;">Codigo de Seguridad</label>
                        <div class="col-xs-12 selectContainer">
                          <div class="input-group">
                              <span class="input-group-addon"><i class="glyphicon icon-key"></i></span>
                              <input type="text" data-toggle="tooltip" readonly="true" data-placement="bottom" title="Codigo de Seguridad" ng-model="addressCodeSecurity"  ng-change="dayDataCollapseFn();" class="form-control">
                          </div>
                      </div>
                    </div>
                    <!-- Filter Status For Admins -->
                    <!--<div ng-show="sessionidProfile!=3" class="form-group col-lg-2">
                      <label style="padding-left: 15px;">Status</label>
                        <div class="col-xs-12 selectContainer">
                          <div class="input-group">
                              <span class="input-group-addon"><i class="glyphicon icon-flag"></i></span>
                              <select ng-model="idStatusDeptoKf" ng-disabled="selectIdAddressKf.selected==''" ng-change="dayDataCollapseFn();" class="form-control" autofocus >
                                <option value="">Todos</option>
                                <option value="ASIGNADO">ASIGNADO</option>
                                <option value="DISPONIBLE">DISPONIBLE</option>
                              </select>
                          </div>
                      </div>
                    </div>
                    <div ng-show="sessionidProfile!=3" class="col-xs-4"><br>
                      <div>
                          <button type="button" ng-click="listUserDepto(1, selectIdAddressKf.selected.idAdress);" class="btn btn-info"><span data-toggle="tooltip" data-placement="right" title="Actualizar">
                              <i class="glyphicon glyphicon-refresh"></i></span>
                          </button>
                      </div>
                    </div>-->
                  </div>
                  <div style="overflow-x:auto">
                    <table ng-show="recordsFound && sessionidProfile!=0"  class="table table-sm table-striped table-bordered table-condensed table-list table-responsive">
                        <thead style=" background: #4d5d6f; color: white;">
                            <tr>
                                <th class="col-md-4 "><i class="fas fa-users-cog"></i> Habitantes</th>
                                <!--<th>ID</th>-->
                                <th><i class="fas fa-home"></i> Departamento</th>
                                <th style="text-align: center;" class="col-md-1"><i class="fas fa-bookmark"></i> Estatus</th>
                            </tr>
                        </thead>
                        <tbody>
                          <!-- Shows the department List by the Selected Address-->
                            <tr style="align-content: center; cursor: pointer;" ng-repeat-start="item in ListDptoByTenant | filter: idStatusDeptoKf |filter: (!!idDepartmentKf || undefined) && {departmentFloor:idDepartmentKf}">
                              <td>
                                <div class="btn-group">
                                  <button type="button" ng-disabled="(sessionidProfile==3||sessionidProfile==6) && item.isAprobatedAdmin!=1" ng-click="selectTableRow($index, item.idDepartment, 'depto'); isAllowed=item.isAprobatedAdmin==1?item.idUserKf:null" class="btn btn-sm" ng-class="dayDataCollapse[$index]?'btn-info':'btn-success'">
                                  <i ng-if="dayDataCollapse[$index]" title="Ver Habitantes" class="glyphicon glyphicon-plus"></i>
                                  <i ng-if="!dayDataCollapse[$index]" title="Ver Habitantes" class="glyphicon glyphicon-minus"></i>
                                    <span ng-if="item.departmentFloor=='Porteria' || item.departmentFloor=='ENCARGADO'"><span class="show-tag-1"> &nbsp;Ver</span> <span class="show-tag-2">Encargado</span></span>
                                    <span ng-if="item.departmentFloor!='Porteria'"><span class="show-tag-1">&nbsp;Ver </span> <span class="show-tag-2"></span></span>
                                  </button>
                                </div>
                                <div ng-if="((sessionidProfile!=5 && item.idUserKf==null || item.idUserKf==0) || (sessionidProfile!=5 || item.idUserK>0))" class="btn-group">
                                  <button data-toggle="tooltip" data-placement="right" title="Nuevo Habitante" ng-if="item.departmentFloor.indexOf('Porteria')<0 && item.departmentFloor.indexOf('ENCARGADO')<0" ng-disabled="(sessionidProfile==3||sessionidProfile==6) && item.isAprobatedAdmin!=1" type="button" ng-click="sysFunctionsTenant('open', 'add', item.idDepartment); " class="btn btn-sm btn-info">
                                  <i class="fas fa-user-plus"></i><span class="show-tag-1">&nbsp;Nuevo</span> <span class="show-tag-2"></span></button> 

                                  <button data-toggle="tooltip" data-placement="right" title="Nuevo Encargado" ng-if="item.departmentFloor.indexOf('Porteria')>=0 || item.departmentFloor.indexOf('ENCARGADO')>=0" ng-click="sysFunctionsAtt('open', item)" type="button" ng-click="" class="btn btn-sm btn-info">
                                  <i class="fas fa-user-plus"></i><span class="show-tag-1">&nbsp;Nuevo</span> <span class="show-tag-2">Encargado</span></button>
                                </div>
                                <div ng-if="(((sessionidProfile==1 || sessionidProfile==4) && item.idUserKf==null || item.idUserKf==0) || (sessionidProfile!=5 || item.idUserK>0))" class="btn-group">
                                  <button data-toggle="tooltip" data-placement="right" title="Asignar Habitante" ng-if="item.departmentFloor.indexOf('Porteria')<0 && item.departmentFloor.indexOf('ENCARGADO')<0" type="button" ng-click="sysFunctionsListOfUser2Assign(item.idDepartment); " class="btn btn-sm btn-info">
                                  <i class="fas fa-user-tag"></i> <span class="show-tag-1">&nbsp;Asignar</span> <span class="show-tag-2"></span></button>                     
                                </div>
                              </td>
                              <!--<td>{{item.idDepartment}}</td>-->
                              <td>{{item.departmentFloor}}</td>
                              <!-- Status for Administrator -->
                              <td ng-if="sessionidProfile!=3" style="text-align: center;">
                                <div class="btn-group">
                                  <!-- STATUS ASSGIN SUCESS -->
                                  <span type="button" ng-if="item.isRequesLowByProp==0 && item.isAprobatedAdmin==1 && (item.idUserKf!=null || item.idUserKf!=0)" class="btn btn-sm btn-success" >
                                    CON PROPIETARIO &nbsp <i class="fas fa-user-tie"></i>
                                  </span>
                                   <!-- STATUS AVAILABLE SUCESS -->
                                  <button type="button" ng-if="item.isRequesLowByProp==0 && item.isAprobatedAdmin==0 && (item.idUserKf==null || item.idUserKf==0)" class="btn btn-sm btn-primary">
                                    SIN PROPIETARIO &nbsp <i class="fas fa-user-slash"></i>
                                  </button>
                                   <!-- STATUS REQUESTED SUCESS -->
                                  <button type="button" ng-if="item.isRequesLowByProp==0 && item.isAprobatedAdmin==0 && item.idUserKf>0" class="btn btn-sm btn-warning" >
                                    SOLICITADO &nbsp <span class="caret"></span>
                                  </button>
                                    <ul ng-if="item.isAprobatedAdmin==0 && (item.idUserKf!=null || item.idUserKf!=0) && item.isRequesLowByProp==0" class="dropdown-menu" role="menu">
                                        <!--<li><a ng-click="" ng-if="item.isAprobatedAdmin==0 && item.idUserKf>0"><i title="Activar" class="glyphicon glyphicon-ok-circle"> </i> Aprobar</a></li>
                                        <li><a ng-click="modalConfirmation('removet', 0, item)" ng-if="item.isAprobatedAdmin==1 && item.idUserKf>0 && item.isRequesLowByProp>=0"><i title="desactivar" class="glyphicon glyphicon-ban-circle"></i> Dar Baja</a></li>-->
                                        <li><a ng-click="fnUnAssignDepto(item.idDepartment,2)"><i title="Cancelar" class="glyphicon glyphicon-ban-circle"></i> Cancelar</a></li>
                                        
                                    </ul>
                                </div>
                              </td>
                              <!-- Status for Owners -->
                              <td ng-if="sessionidProfile==3">
                                <div class="btn-group">
                                  <button type="button" ng-if="item.isRequesLowByProp==0 && item.isAprobatedAdmin==1 && item.idUserKf!=null" class="btn  btn-sm btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> APROBADO </button>
                                  &nbsp
                                  <!-- Boton para Baja -->
                                  <button type="button" ng-click="modalConfirmation('removet', 0, item)" class="pull-right btn btn-sm btn-danger">
                                    <i data-toggle="tooltip" data-placement="right" title="Darme de baja" class="fas fa-trash-alt">
                                    </i>
                                  </button>
                                  <button type="button" ng-if="item.isAprobatedAdmin==0" class="btn btn-sm btn-warning dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> PENDIENTE</button>
                                  <button type="button" ng-if="item.isAprobatedAdmin<0" class="btn btn-sm btn-danger dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> ELIMINADO</button>
                                  <button type="button" ng-if="item.isRequesLowByProp==1 && item.isAprobatedAdmin==1 && item.idUserKf!=null" class="btn btn-sm btn-danger dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> BAJA SOLICITADA</button>
                                </div>
                              </td>
                            </tr>
                            <!-- Show the tenant & owner List by the Department selected -->
                            <tr collapse="dayDataCollapse[$index]" ng-repeat-end="">
                              <td colspan="4" >
                                  <div ng-show="tenantNotFound && sessionidProfile!=0 && selectIdAddressKf.selected" class="alert alert-info" role="alert">
                                      <strong>INFO: </strong>No hay Habitantes registrados en el departamento seleccionada.
                                  </div>
                                  <div ng-if="tenantNotFound!=true && sessionidProfile!=0" class="panel panel-default">
                                    <div class="panel-heading">
                                      <h3 class="panel-title">GESTION DE HABITANTES - DEPARTAMENTO N°: <bold> {{item.departmentFloor}}</bold></h3>
                                    </div>
                                      <div class="panel-body">
                                        <div  class="row" >
                                            <!-- Filter Type of Tenant For Admins -->
                                            <div ng-if="sessionidProfile!=3" class="form-group col-lg-3">
                                              <label style="padding-left: 15px;">Tipo de Habitante</label>
                                                <div class="col-xs-12 selectContainer">
                                                  <div class="input-group">
                                                      <span class="input-group-addon"><i class="glyphicon icon-user"></i></span>
                                                      <select name="filterTenant" ng-model="$parent.filterTenant" class="form-control" required autofocus > 
                                                        <option value="" >Todos</option>
                                                        <option value="1" >Propietarios</option>
                                                        <option value="2" >Inquilinos</option>
                                                    </select>
                                                  </div>
                                                </div>
                                            </div>
                                            <div class="form-group col-lg-3">
                                            <label style="padding-left: 15px;">Buscar</label>
                                              <div class="col-xs-12">
                                                <div class="input-group">
                                                  <span class="input-group-addon"><i class="glyphicon glyphicon-search "></i></span>
                                                  <input type="text" class="form-control" ng-model="searchboxfilter" placeholder="Buscar...">
                                                </div>
                                              </div>
                                            </div>
                                            <div class="form-group col-lg-3"><br>
                                              <button data-toggle="tooltip" data-placement="right" title="Nuevo Habitante" ng-if="item.departmentFloor.indexOf('Porteria')<0 && item.departmentFloor.indexOf('ENCARGADO')<0" ng-disabled="(sessionidProfile==3||sessionidProfile==6) && item.isAprobatedAdmin!=1" type="button" ng-click="sysFunctionsTenant('open', 'add', item.idDepartment); " class="btn btn-labeled btn-sm btn-info">
                                              <span class="btn-label"><i class="fas fa-user-plus"></i> </span>Nuevo Habitante</button> 
                                            </div>
                                        </div>
                                        <table  class="table table-hover table-responsive">
                                            <thead style=" background: #4d5d6f; color: white;">
                                              <tr >
                                                  <th>#</th>
                                                  <th>ID</th>
                                                  <th><i class="glyphicon glyphicon-user"> </i> Nombres</th>
                                                  <!--<th><i class="glyphicon glyphicon-earphone"> </i> Telefonos</th>-->
                                                  <!--<th><i class="glyphicon glyphicon-envelope"> </i> Correo</th>-->
                                                  <th>Perfil</th>
                                                  <th><i class="glyphicon icon-flag"> </i> Status</th>
                                                  <th class="show-column-table"><i class="glyphicon icon-calendar"> </i> Registrado</th>
                                              </tr>
                                            </thead>
                                            <tbody>
                                              <tr style="align-content: center;" ng-repeat="item in listTenant | filter: (!!filterTenant || undefined) && {idTypeTenantKf: filterTenant} | filter: (!!searchboxfilter || undefined) && searchboxfilter">
                                                  <td>
                                                    <div class="btn-group">
                                                      <button type="button" ng-click="select2EditTenant(item, idDeptoKf);" class="btn btn-sm btn-xs btn-warning">
                                                      <i data-toggle="tooltip" data-placement="bottom"  title="Modificar Datos" class="glyphicon glyphicon-edit"></i>  
                                                      </button>
                                                      <button type="button" ng-click="modalConfirmation('removet', 0, item)" class="btn btn-sm btn-xs btn-danger">
                                                      <i data-toggle="tooltip" data-placement="bottom"  title="Eliminar Habitante" class="glyphicon glyphicon-remove-circle"></i>  
                                                      </button>
                                                    </div>
                                                  </td>
                                                  <td>{{item.idUser}}</td>
                                                  <td>{{item.fullNameUser}}</td>
                                                  <!--<td>
                                                    <span ng-if="item.phoneNumberTenant">
                                                      <i class="glyphicon glyphicon-phone"></i>
                                                        <span >{{item.phoneNumberTenant}}</span>
                                                    </span>
                                                      <br ng-if="item.phoneNumberTenant"><br ng-if="item.phoneNumberTenant">
                                                    <span ng-if="item.phoneNumberContactTenant">
                                                      <i class="glyphicon glyphicon-earphone"></i>
                                                        <span >{{item.phoneNumberContactTenant}}</span>
                                                    </span>
                                                  </td>-->
                                                  <!--<td>{{item.emailTenant}}</td>-->
                                                  <td ng-if="item.idProfileKf==3 && item.idTypeTenantKf==1 && isAllowed==null" >Propietario <span style="padding-top: 10px; margin-top: 10px; text-align: center;" class="alert alert-warning"><i class="fas fa-lock"></i> No Autorizado</span></td>
                                                  <td ng-if="item.idProfileKf==3 && item.idTypeTenantKf==1 && item.idUser==isAllowed" >Propietario</td>
                                                  <td ng-if="item.idProfileKf==5 && item.idTypeTenantKf==2 && (item.isDepartmentApproved==null || item.isDepartmentApproved==0)">Inquilino &nbsp &nbsp&nbsp<span style="padding-top: 10px; margin-top: 10px; text-align: center;" class="alert alert-warning"><i class="fas fa-lock"></i> No Autorizado</span></td>
                                                  <td ng-if="item.idProfileKf==5 && item.idTypeTenantKf==2 && item.isDepartmentApproved==1" >Inquilino</td>
                                                  <td ng-if="item.idProfileKf==6 && item.idTypeTenantKf==1 && isAllowed==null">Encargado (Propietario)<span style="padding-top: 10px; margin-top: 10px; text-align: center;" class="alert alert-warning"><i class="fas fa-lock"></i> No Autorizado</span></td>
                                                  <td ng-if="item.idProfileKf==6 && item.idTypeTenantKf==1 && item.idUser==isAllowed">Encargado (Propietario)
                                                  <td ng-if="item.idProfileKf==6 && item.idTypeTenantKf==2 && (item.isDepartmentApproved==null || item.isDepartmentApproved==0)">Encargado(Inquilino)<span style="padding-top: 10px; margin-top: 10px; text-align: center;" class="alert alert-warning"><i class="fas fa-lock"></i> No Autorizado</span></td>
                                                  <td ng-if="item.idProfileKf==6 && item.idTypeTenantKf==2 && item.isDepartmentApproved==1">Encargado (Inquilino)</td>
                                                  <td> <!-- TD to Admins -->
                                                      <span  ng-if="item.idStatusKf==1" class="label label-success">
                                                        ACTIVO
                                                      </span>
                                                      <span  ng-if="item.idStatusKf==0" class="label label-warning" >
                                                        INACTIVO
                                                      </span>
                                                      <span  ng-if="item.idStatusKf<0" class="label label-danger">
                                                        Eliminado
                                                      </span>
                                                      <!--<ul ng-show="item.idStatusKf==0 || sessionidProfile==1" class="dropdown-menu">
                                                        <li><a ng-click="enabledTenant(item.idUser)" ng-if="item.idStatusKf<1"><i title="Activar" class="glyphicon glyphicon-ok-circle"> </i> Activar</a></li>
                                                        <li><a ng-click="disabledTenant(item.idUser)" ng-if="item.idStatusKf>0 && sessionidProfile!=3"><i title="desactivar" class="glyphicon glyphicon-ban-circle"></i> Desactivar</a></li>
                                                      </ul>-->&nbsp 
                                                      <!-- OWNERS -->
                                                      <button ng-if="(item.idProfileKf==3 && isAllowed==null) || (item.idProfileKf==6 && item.idTypeTenantKf==1 && isAllowed==null)" type="button" ng-click="approveOwnerDepto(idDeptoKf)" class="btn btn-sm btn-danger">
                                                      <i data-toggle="tooltip" data-placement="bottom" title="Autorizar Habitante" class="fas fa-lock"></i>  
                                                      </button>
                                                      <span ng-if="(item.idProfileKf==3 && item.idUser==isAllowed) || (item.idProfileKf==6 && item.idTypeTenantKf==1 && item.idUser==isAllowed)" class="label label-success">
                                                      <i data-toggle="tooltip" style="cursor: pointer;" data-placement="bottom"  title="Autorizado" class="fas fa-unlock-alt"></i>
                                                      </span>
                                                      <!--TENANT -->
                                                      <button ng-if="(item.idProfileKf==5 && (item.isDepartmentApproved==null || item.isDepartmentApproved==0)) || (item.idProfileKf==6 && item.idTypeTenantKf==2 && (item.isDepartmentApproved==null || item.isDepartmentApproved==0))" type="button" ng-click="approveTenantDepto(item.idUser, 1)" class="btn btn-sm btn-danger">
                                                      <i data-toggle="tooltip" data-placement="bottom" title="Autorizar Habitante" class="fas fa-lock"></i>  
                                                      </button>
                                                      <span ng-if="(item.idProfileKf==5 && item.isDepartmentApproved==1) || (item.idProfileKf==6 && item.idTypeTenantKf==2 && item.isDepartmentApproved==1)" class="label label-success">
                                                      <i data-toggle="tooltip" style="cursor: pointer;" data-placement="bottom"  title="Autorizado" class="fas fa-unlock-alt"></i>
                                                      </span>
                                                  </td>
                                                  <td class="show-column-table">{{item.dateCreated  | dateToISO | date:'MM/dd/yyyy'}}</td>
                                                  <!--<td>{{item.dateCreated}}</td>-->
                                              </tr>
                                            </tbody>
                                        </table>
                                      </div>
                                  </div>
                              </td>
                            </tr>
                        </tbody>
                    </table>
                    <div ng-if="sessionidProfile!=0"><br></div>
                  </div>
                </div>
              </div>
              <!--*********************ENCARGADOS ***********************************-->
              <div ng-if="!isCollapsed && collap==2 && sessionidProfile!=3 && !noRecordsFound && !dptoNotFound && selectIdAddressKf.selected!=undefined" class="panel panel-default">
                  <div ng-show="!attendantFound && sessionidProfile!=0 && selectIdAddressKf.selected" class="alert alert-info" role="alert">
                      <strong>INFO: </strong>No hay Encargados registrados para la direccion seleccionada.
                        <button type="button" ng-click="sysFunctionsAtt('open')" class="btn btn-info btn-sm"><i title="Registrar" class="glyphicon glyphicon-plus"></i> Registrar</button>
                  </div>
                  <div ng-if="attendantFound" class="panel-body">
                      <div  class="row" >
                          <!-- Filter Type of Tenant For Admins -->
                          <div ng-if="sessionidProfile!=0" class="form-group col-lg-2">
                                  <label style="padding-left: 15px;">Tipo de Encargados</label>
                                    <div class="col-xs-12 selectContainer">
                                      <div class="input-group">
                                            <span class="input-group-addon"><i class="glyphicon glyphicon-tags"></i></span>
                                            <select name="filteroAttProfile" class="form-control" ng-model="$parent.filteroAttProfile" >
                                                <option value="" >Todos</option>
                                                <option value="1" >Otros</option>
                                                <option value="2" >Titular</option>
                                                <option value="3" >Suplente</option>
                                                <option value="4" >Intendente</option>
                                            </select>
                                      </div>
                                    </div>
                            </div>
                            <!-- Filter Type of Tenant For Admins -->
                          <div ng-if="sessionidProfile!=0" class="form-group col-lg-2">
                                  <label style="padding-left: 15px;">Estatus</label>
                                    <div class="col-xs-12 selectContainer">
                                      <div class="input-group">
                                            <span class="input-group-addon"><i class="glyphicon glyphicon-tags"></i></span>
                                            <select name="filterUserStatus" class="form-control" ng-model="$parent.filterUserStatus" >
                                                <option value="" >Todos</option>
                                                <option value="1" >Activo</option>
                                                <option value="0" >Inactivo</option>
                                                <option value="-1" >eliminado</option>
                                            </select>
                                      </div>
                                    </div>
                            </div>
                          <div class="form-group col-lg-2">
                          <label style="padding-left: 15px;">Buscar</label>
                            <div class="col-xs-12">
                              <div class="input-group">
                                <span class="input-group-addon"><i class="glyphicon glyphicon-search "></i></span>
                                <input type="text" class="form-control" ng-model="searchboxfilter" placeholder="Buscar...">
                              </div>
                            </div>
                          </div>
                          <div class="form-group">
                          <div class="col-xs-4"><br>
                              <div >
                                  <button data-toggle="tooltip" data-placement="top" title="Actualizar" type="button" ng-click="getAllAttendant(selectIdAddressKf.selected.idAdress)" class="btn btn-sm btn-info">
                                      <i title="Actualizar" class="glyphicon glyphicon-refresh"></i>
                                  </button>&nbsp
                                  <button data-toggle="tooltip" data-placement="right" title="Nuevo Encargado"  ng-click="sysFunctionsAtt('open')" type="button" ng-click="" class="btn btn-labeled btn-sm btn-info">
                                  <span class="btn-label"><i class="fas fa-user-plus"></i> </span>Nuevo Encargado</button>
                              </div>
                          </div>
                      </div>  
                      </div><br><br>
                      <div style="overflow-x:auto">
                        <table  class="table  table-striped table-responsive">
                            <thead style=" background: #4d5d6f; color: white;">
                              <tr style="text-align: center;">
                                  <th>ID</th>
                                  <th><i class="glyphicon glyphicon-user"> </i> Nombres</th>
                                  <!--<th><i class="glyphicon glyphicon-phone"> </i> Tlf Movil</th>
                                  <th><i class="glyphicon glyphicon-earphone"> </i> Tlf Fijo</th>-->
                                  <th><i class="glyphicon glyphicon-envelope"> </i> Correo</th>
                                  <th><i class="glyphicon glyphicon-user"> </i>Perfil</th>
                                  <th><i class="glyphicon icon-flag"> </i> Status</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr style="align-content: center;" ng-repeat="item in listAttendant | filter: (!!filteroAttProfile || undefined) && {idTyepeAttendantKf:filteroAttProfile} | filter: (!!filterUserStatus || undefined) && {idStatusKf:filterUserStatus} | filter: (!!searchboxfilter || undefined) && searchboxfilter | orderBy: 'idUser'">
                                <td>
                                <div class="btn-group">
                                  <button type="button" ng-click="select2EditAtt(item);" class="btn btn-info btn-sm">{{item.idUser}}</button>
                                  <button type="button" class="btn btn-info btn-sm dropdown-toggle" data-toggle="dropdown">
                                    <span class="caret"></span>
                                  </button>
                                  <ul class="dropdown-menu" role="menu">
                                    <li><a href="" ng-click="select2EditAtt(item);"><i title="Modificar Datos" class="glyphicon glyphicon-edit"></i>  Editar</a></li>
                                    <li ng-if="item.idStatusKf<=0 "><a href="" ng-click="enabledUser(item.idUser)"><i title="Activar Habitante" class="glyphicon glyphicon-remove-circle"></i> Activar</a></li>
                                    <li ng-if="item.idStatusKf>0"><a href="" ng-click="disabledUser(item.idUser)"><i title="Desactivar Habitante" class="glyphicon glyphicon-remove-circle"></i> Desactivar</a></li>
                                    <li ng-if="item.idStatusKf>0" role="presentation">
                                    <div class="divider"></div>
                                    </li>
                                    <li ng-if="item.idStatusKf>0"><a href="" ng-click="modalConfirmation('removeatt', 0, item)"><i title="Eliminar Usuario" class="glyphicon glyphicon-trash"></i> Eliminar</a></li>
                                  </ul>
                                </div>
                                </td>
                                <td>{{item.fullNameUser}}</td>
                                <!--<td ng-if="item.phoneLocalNumberUser">{{item.phoneLocalNumberUser}}</td>
                                <td ng-if="!item.phoneLocalNumberUser"><span style="padding-top: 4px; margin-top: 10px; text-align: center;" class="alert alert-warning"> &nbsp &nbsp n/a</span></td>
                                <td ng-if="item.phoneNumberUser">{{item.phoneNumberUser}}</td>
                                <td ng-if="!item.phoneNumberUser"><span style="padding-top: 4px; margin-top: 10px; text-align: center;" class="alert alert-warning"> &nbsp &nbsp n/a</span>
                                </td>-->
                                <td>{{item.emailUser}}</td>
                                <td ng-if="!item.idTyepeAttendantKf"><label ng-if="item.idStatusKf==1" class="label label-warning">No Asignado
                                  </label></td>
                                <td ng-if="item.idTyepeAttendantKf==1">Otros ({{item.descOther}})</td>
                                <td ng-if="item.idTyepeAttendantKf==2">Titular</td>
                                <td ng-if="item.idTyepeAttendantKf==3">Suplente</td>
                                <td ng-if="item.idTyepeAttendantKf==4">Ayudante</td>
                                <td ng-if="item.idTyepeAttendantKf==5">Intendente</td>
                                <td> <!-- TD to Admins -->
                                  <label ng-if="item.idStatusKf==1" class="label label-success">ACTIVO
                                  </label>
                                  <label ng-if="item.idStatusKf==0" class="label label-warning">INACTIVO
                                  </label>
                                  <label ng-if="item.idStatusKf==-1" class="label label-danger"><del>ELIMINADO</del>
                                  </label>
                                </td>
                              </tr>
                            </tbody>
                        </table>
                        <br><br><br><br><br>
                      </div>
                      <!--<div>
                        <pagination 
                            total-items="totalItems" 
                            ng-model="currentPage" 
                            ng-change="pageChanged()" 
                            class="pagination-sm" 
                            items-per-page="itemsPerPage"
                            max-size="maxSize"
                            boundary-links="true">
                        </pagination>
                      </div>-->
                  </div>
              </div>
            </div>
        </div>
      </div>
      <!-- USUARIOS DE TIPO INQUILINOS -->
      <div ng-if="sessionidProfile==5 || (sessionidProfile==6 && sessionidTypeTenant==2)">
          <div class="container-fluid justify-content-md-center col-md-10 col-md-offset-3">
            <div class="col-md-6">
              <div class="depto-widget well well-md">
                <div class="depto-icon">
                      <span ng-if="!sessionIdDeparmentKf && (!sessionisDepartmentApproved || sessionisDepartmentApproved==0)" data-toggle="tooltip" data-placement="right" title="Departamento no asignado">
                        <i class="depto-primary glyphicon glyphicon-home"></i>
                      </span>
                      <span ng-if="sessionIdDeparmentKf && (!sessionisDepartmentApproved || sessionisDepartmentApproved==0)" data-toggle="tooltip" data-placement="right" title="Pendiente autorizacion">
                        <i class="depto-warning glyphicon glyphicon-home"></i>
                      </span>
                      <span ng-if="sessionIdDeparmentKf && sessionisDepartmentApproved" data-toggle="tooltip" data-placement="right" title="Departamento Aprobado">
                        <i class=" depto-success glyphicon glyphicon-home"></i>
                      </span>
                </div>
                <!-- IF THERE IS A DEPARTMENT ASSIGNED -->
                <div ng-if="sessionidAddress && sessionIdDeparmentKf">
                  <div class="text">
                      <h4 class="text-muted">Consorcio: <span class="badge badge-light">{{sessionNameAdress}}</span></h4>
                  </div>
                  <div >
                    <h5 class="text-muted">Departamento: 
                      <span class="badge badge-light">{{deptoTenant}}</span>
                        <span ng-if="!sessionisDepartmentApproved || sessionisDepartmentApproved==0" class="badge badge-warning">
                          <i data-toggle="tooltip" data-placement="bottom" title="Pendiente autorizacion" class="fas fa-info-circle">
                          </i>
                        </span>
                        <span ng-if="sessionisDepartmentApproved" class="badge badge-success">
                          <i data-toggle="tooltip" data-placement="bottom" title="Departamento Aprobado" class="fas fa-check">
                          </i>
                        </span>
                        <button ng-if="sessionisDepartmentApproved" type="button" ng-click="modalConfirmation('removet', 0, sysLoggedUser)" class="pull-right btn btn-sm btn-danger">
                          <i data-toggle="tooltip" data-placement="bottom" title="Darme de baja" class="fas fa-trash-alt">
                          </i>
                        </button>
                        <button ng-if="!sessionisDepartmentApproved || sessionisDepartmentApproved==0" type="button" ng-click="refresSession(sessionMail)" class="pull-right btn btn-sm btn-primary">
                          <i data-toggle="tooltip" data-placement="bottom" title="Actualizar" class="fas fa-redo-alt">
                          </i>
                        </button>
                    </h5>
                  </div>
                </div>
                <!-- THERE IS NOT A DEPARTMENT ASSIGNED -->
                <div ng-if="!sessionidAddress && !sessionIdDeparmentKf">
                  <div class="text">
                      <h4 class="text-muted"><span class="badge badge-light"> No asociado</span></h4>
                      <button type="button" ng-click="modalCodeConfirmation()" class="btn btn-sm btn-primary">
                      <i data-toggle="tooltip" data-placement="bottom" title="Asociar un Nuevo departamento" class="fas fa-plus">
                      </i>  Departamento
                      </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div ng-if="sysCheckResult && !sessionIdDeparmentKf && !sessionidAddress" class="container-fluid justify-content-md-center col-md-12">
            <form class="form-horizontal" name="frmDpto" ng-submit="sysAssignDep2Tenant()">
                  <fieldset>
                    <!-- Address for Owner-->      
                    <div ng-show="sessionidProfile==3 || sessionidProfile==5 || sessionidProfile==6" class="form-group col-md-6">
                       <label style="padding-left: 15px;">Consorcio</label>
                          <div class="col-xs-12">
                            <div class="input-group">
                              <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
                              <input name="idAddressAtt" readonly="true" class="form-control" ng-model="manage.idAddrName" type="text" required autofocus />
                            </div>
                          </div>
                    </div>
                    <!-- Select Department -->
                    <div ng-show="sessionidProfile==3 || sessionidProfile==5 || sessionidProfile==6" class="form-group col-md-4">
                      <label style="padding-left: 15px;">Departamento</label>
                        <div class="col-xs-12 selectContainer">
                          <div class="input-group">
                              <span class="input-group-addon"><i class="glyphicon icon-building"></i></span>
                              <select id="idDepartmentKf" ng-model="select.idDepartmentKf"  ng-disabled="dptoNotFound!=false" class="form-control" ng-options="x.idDepartment as x.departmentFloor for x in ListDpto " required autofocus >
                                <option value="">Seleccione</option>
                              </select>
                          </div>
                      </div>
                    </div>
                    <!-- Actions Button -->
                    <div ng-show="sessionidProfile==3 || sessionidProfile==5 || sessionidProfile==6" class="form-group col-md-2">
                      <br>
                      <div class="col-xs-12">
                        <button type="submit" class="btn btn-primary" ng-disabled="dptoNotFound!=false" >Asociar</button>
                      </div>
                    </div>
                  </fieldset>
            </form>
          </div>
      </div>
      <!-- Modal for Code Confirmation -->
      <div class="modal fade" id="confirmCodeModal" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Soporte coferba<a data-dismiss="modal" data-toggle="tooltip" data-placement="top"  title="Cerrar" class="close"><i alt="Cerrar" class="glyphicon glyphicon-remove-sign"> </i></a></h5>
            </div>
            <div class="modal-body">
            <form name="frmSecCode" class="form-horizontal" autocomplete="off" role="form" novalidate>
              <div id="divCodeFrm" class="form-group" ng-class="{'has-error': frmSecCode.checkCode.$dirty && frmSecCode.checkCode.$invalid}">
                <label>Codigo de Validacion</label> 
                <div class="col-md-12">
                  <div class="input-group">
                    <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                      <input id="checkCode" name="checkCode" class="form-control" ng-model="input.securityCode" type="password" required autofocus />
                    </div>
                  </div>
              </div>
            </form>
            </div>
            <div class="modal-footer">
              <button type="button" ng-click="sysCheckCode()" class="btn btn-success">Validar</button>
               <button type="button" data-dismiss="modal" class="btn btn-danger">Cancelar</button>
            </div>
          </div>
        </div>
      </div>
      <!-- //Modal for Code Confirmation -->
    </div>
  </div>
</div>
